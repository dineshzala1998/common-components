<!doctype html>
<html lang="en-US">
<head>
    
    <!-- Required meta tags -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

     <!--  Favicon Icon  -->
    <link rel="apple-touch-icon" sizes="180x180" href="">
    <link rel="icon" type="image/png" sizes="32x32" href="">
    <link rel="icon" type="image/png" sizes="16x16" href="">
    
    <!--  Title Name  -->
    <title>Common Components</title>


    <!-- jQuery CDN Fallback -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-3gJwYp4g0Q1F6Q1b6jtyiZj6tZ1p2g9z7+3h2Q1QzZk=" crossorigin="anonymous"></script>
    <script>window.jQuery || document.write('<script src="assets/js/jquery.min.js"><\/script>');</script>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="assets/css/libs/bootstrap.min.css"/>


    <!-- Lightbox2 CSS CDN (no integrity) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.4/css/lightbox.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- Lightbox CSS local fallback -->
    <!-- <link rel="stylesheet" href="assets/css/libs/lightbox.min.css"/> -->

    <!-- Custom CSS -->
    <link rel="stylesheet" href="assets/css/common.css">

    <style>

        .lightbox .lb-close{
            position: fixed;
            top: 10px;
            right: 10px;
            background-color: #fff;
            opacity: 1 !important;
            background-position: center;
        }
    
        .lb-container .lb-nav{
            bottom: 0px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 8px;
        }

        .lb-container .lb-nav > a{
            width: 40px;
            height: 40px;
            background-position: center;
            background-color: #fff;
            border-radius: 50px;
            opacity: 1;
        }
    </style>
    
</head>
<body>
    <div class="container my-4">
    <div class="gallery-wrapper">
        <div class="gallery-scroll">
        
            <!-- Visible Thumbnail -->
            <a href="https://picsum.photos/id/1015/1200/800" data-lightbox="clinic" data-title="custom-file.html">
                <div class="gallery-image">
                    <img src="https://picsum.photos/id/1015/400/300" alt="Clinic 1">
                </div>
            </a>

            <!-- Hidden Images (no thumbnail, but in same gallery group) -->
            <a href="https://picsum.photos/id/1016/1200/800" data-lightbox="clinic" data-title="Clinic Room 2" style="display:none;"></a>
            <a href="https://picsum.photos/id/1018/1200/800" data-lightbox="clinic" data-title="Clinic Room 3" style="display:none;"></a>
            <a href="https://picsum.photos/id/1020/1200/800" data-lightbox="clinic" data-title="Clinic Room 4" style="display:none;"></a>

        </div>
    </div>
</div>




    <!-- Bootstrap js  -->
    <script src="assets/js/bootstrap.bundle.min.js"></script>


    <!-- Lightbox2 JS CDN (no integrity) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.4/js/lightbox.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <!-- Lightbox JS local fallback -->
    <script>window.lightbox || document.write('<script src="assets/js/lightbox.min.js"><\/script>');</script>
    
        

    <script>
  document.addEventListener("DOMContentLoaded", function () {
    if (window.lightbox && typeof lightbox.option === "function") {
      lightbox.option({
        resizeDuration: 200,
        wrapAround: true,        // ðŸ”¹ Last image pachi first image ma loop
        alwaysShowNavOnTouchDevices: true, // ðŸ”¹ Mobile ma arrows force show
        fadeDuration: 200,
        imageFadeDuration: 200
      });
    }
  });
</script>

<script>
// FINAL: Always show .html file content as caption in Lightbox
// This script will fetch and display the content of a .html file as the caption in Lightbox2
// whenever an image with data-title ending in .html is opened, including on next/prev/keyboard navigation.
document.addEventListener("DOMContentLoaded", function () {
    // Helper: fetch .html file and set as caption
    function setHtmlCaption(dataTitle) {
        if (dataTitle && dataTitle.endsWith('.html')) {
            // Fetch the HTML file content
            fetch(dataTitle)
                .then(function (response) { return response.text(); })
                .then(function (html) {
                    // Replace the Lightbox caption with the HTML content
                    var lbCaption = document.querySelector('.lb-caption');
                    if (lbCaption) {
                        lbCaption.innerHTML = html;
                    }
                });
        }
    }
    // On lightbox image change (open, next, prev, keyboard)
    function trySetCaption() {
        setTimeout(function () {
            var lbData = document.querySelector('.lb-data');
            if (!lbData) return;
            var title = '';
            // Find the current image's data-title by matching href with .lb-image src
            var imgs = document.querySelectorAll('a[data-lightbox]');
            var imgSrc = document.querySelector('.lb-image')?.getAttribute('src');
            imgs.forEach(function(a) {
                if (a.getAttribute('href') === imgSrc) {
                    title = a.getAttribute('data-title');
                }
            });
            setHtmlCaption(title);
        }, 100); // Wait for Lightbox to update DOM
    }
    // Listen for all Lightbox open/next/prev events (mouse/touch)
    document.body.addEventListener('click', function(e) {
        if (e.target.matches('a[data-lightbox], .lb-prev, .lb-next')) {
            trySetCaption();
        }
    }, true);
    // Also on Lightbox image load (for keyboard navigation)
    document.body.addEventListener('keydown', function(e) {
        if (document.querySelector('.lb-image')) {
            setTimeout(trySetCaption, 120);
        }
    });
});
</script>

    
</body>
</html>