<!doctype html>
<html lang="en-US">
<head>
    
    <!-- Required meta tags -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

     <!--  Favicon Icon  -->
    <link rel="apple-touch-icon" sizes="180x180" href="">
    <link rel="icon" type="image/png" sizes="32x32" href="">
    <link rel="icon" type="image/png" sizes="16x16" href="">
    
    <!--  Title Name  -->
    <title>Common Components</title>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="assets/css/common.css">
<style>
    body{
        overflow: hidden;
    }
  .slider {
  position: relative;
  overflow: visible;
  max-width: 100%;
}

.slider-track {
  display: flex;
  transition: transform 0.4s ease-in-out;
  /* user-select: none; */
}

.slide {
  flex: 0 0 auto;
  margin: 0 10px;
  background: #fff;
  border-radius: 8px;
  overflow: hidden;
  /* user-select: none; */
}

.slide img {
  display: block;
  width: 100%;
}

.prev, .next {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  background: rgba(0,0,0,0.5);
  color: #fff;
  border: none;
  padding: 8px;
  cursor: pointer;
  z-index: 2;
}

.prev { left: 5px; }
.next { right: 5px; }


</style>
</head>
<body>
<div class="container">
<div class="slider">
  <button class="prev">&#10094;</button>
  <div class="slider-track">
    <div class="slide"><img src="https://www.cmarix.com/blog/wp-content/uploads/2025/08/top-ui-design-trends-400x213.webp"><p>Blog 1 Title</p></div>
    <div class="slide"><img src="https://www.cmarix.com/blog/wp-content/uploads/2025/08/open-source-ai-models-generate-3d-images-400x213.webp"><p>Blog 2 Title</p></div>
    <div class="slide"><img src="https://www.cmarix.com/blog/wp-content/uploads/2025/08/build-an-ecommerce-website-using-bagisto-laravel-400x213.webp"><p>Blog 3 Title</p></div>
    <div class="slide"><img src="https://www.cmarix.com/blog/wp-content/uploads/2025/08/deep-integration-in-business-software-400x213.webp"><p>Blog 4 Title</p></div>
    <div class="slide"><img src="https://www.cmarix.com/blog/wp-content/uploads/2025/08/build-an-agentic-saas-platform-400x213.webp"><p>Blog 5 Title</p></div>
    <div class="slide"><img src="https://www.cmarix.com/blog/wp-content/uploads/2025/08/top-ui-design-trends-400x213.webp"><p>Blog 1 Title</p></div>
    <div class="slide"><img src="https://www.cmarix.com/blog/wp-content/uploads/2025/08/open-source-ai-models-generate-3d-images-400x213.webp"><p>Blog 2 Title</p></div>
    <div class="slide"><img src="https://www.cmarix.com/blog/wp-content/uploads/2025/08/build-an-ecommerce-website-using-bagisto-laravel-400x213.webp"><p>Blog 3 Title</p></div>
    <div class="slide"><img src="https://www.cmarix.com/blog/wp-content/uploads/2025/08/deep-integration-in-business-software-400x213.webp"><p>Blog 4 Title</p></div>
    <div class="slide"><img src="https://www.cmarix.com/blog/wp-content/uploads/2025/08/build-an-agentic-saas-platform-400x213.webp"><p>Blog 5 Title</p></div>
  </div>
  <button class="next">&#10095;</button>
</div>
</div>

 <!-- Jquery js  -->
    <script src="assets/js/jquery.min.js"></script>

<script>
  const track = document.querySelector('.slider-track');
const slides = Array.from(document.querySelectorAll('.slide'));
const prevBtn = document.querySelector('.prev');
const nextBtn = document.querySelector('.next');

let index = 0;
let slideWidth = slides[0].offsetWidth + 20;
let visibleSlides = 1;

let isDragging = false;
let startPos = 0;
let currentTranslate = 0;
let prevTranslate = 0;
let animationID = 0;

function updateSlideWidth() {
  slideWidth = slides[0].offsetWidth + 20;
  visibleSlides = Math.floor(document.querySelector('.slider').offsetWidth / slideWidth);
}

function setSliderPosition() {
  track.style.transform = `translateX(${currentTranslate}px)`;
}

function animation() {
  setSliderPosition();
  if (isDragging) requestAnimationFrame(animation);
}

function touchStart(idx) {
  return function (event) {
    isDragging = true;
    startPos = getPositionX(event);

    // ðŸ”¹ Fix: Always sync translate values before drag
    prevTranslate = -index * slideWidth;
    currentTranslate = prevTranslate;

    animationID = requestAnimationFrame(animation);
    track.style.transition = 'none';

    // Better pointer handling (especially desktop)
    if (event.type.includes('mouse')) event.target.setPointerCapture?.(event.pointerId);
  };
}

function touchMove(event) {
  if (!isDragging) return;
  const currentPosition = getPositionX(event);
  currentTranslate = prevTranslate + currentPosition - startPos;
}

function touchEnd() {
  cancelAnimationFrame(animationID);
  isDragging = false;
  const movedBy = currentTranslate - prevTranslate;

  if (movedBy < -100 && index < slides.length - visibleSlides) index++;
  if (movedBy > 100 && index > 0) index--;

  updateSlidePosition();
}

function getPositionX(event) {
  return event.type.includes('mouse') ? event.pageX : event.touches[0].clientX;
}

function updateSlidePosition() {
  currentTranslate = -index * slideWidth;
  prevTranslate = currentTranslate;
  track.style.transition = 'transform 0.4s ease-in-out';
  setSliderPosition();
}

function nextSlide() {
  updateSlideWidth();
  if (index < slides.length - visibleSlides) {
    index++;
    updateSlidePosition();
  }
}

function prevSlide() {
  updateSlideWidth();
  if (index > 0) {
    index--;
    updateSlidePosition();
  }
}

slides.forEach((slide, idx) => {
  const img = slide.querySelector('img');
  img.addEventListener('dragstart', e => e.preventDefault());
  slide.addEventListener('touchstart', touchStart(idx));
  slide.addEventListener('touchmove', touchMove);
  slide.addEventListener('touchend', touchEnd);
  slide.addEventListener('mousedown', touchStart(idx));
  slide.addEventListener('mousemove', touchMove);
  slide.addEventListener('mouseup', touchEnd);
  slide.addEventListener('mouseleave', () => { if (isDragging) touchEnd(); });
});

nextBtn.addEventListener('click', nextSlide);
prevBtn.addEventListener('click', prevSlide);

window.addEventListener('resize', () => {
  updateSlideWidth();
  updateSlidePosition();
});

// ðŸ”¹ Ensure starting position & translate values match before any drag
updateSlideWidth();
updateSlidePosition();
prevTranslate = -index * slideWidth;
currentTranslate = prevTranslate;





</script>

</body>
</html>
